
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">



<meta name="keywords" content="">




<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@gilesp">
<meta name="twitter:title" content="Database Configuration : vurt.co.uk">
<meta name="twitter:creator" content="@gilesp">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="vurt.co.uk">


    <base href="http://vurt.co.uk">

    
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="/css/font-awesome.min.css" rel="stylesheet">

    
    
    

    
    <link href="http://fonts.googleapis.com/css?family=Cabin:400,700" rel="stylesheet" type="text/css">

    
    <link href="css/vurt.css" rel="stylesheet">

    <title>Database Configuration : vurt.co.uk</title>
    <link rel="canonical" href="http://vurt.co.uk/archive/database-configuration">
    

  </head>
  <body>
    
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Vurt.co.uk</a>
    </div>

    
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        
          <li><a href="/ideas"><span class="fa fa-bolt"></span> Ideas </a></li>
        
          <li><a href="/projects"><span class="fa fa-cogs"></span> Projects </a></li>
        
          <li><a href="http://vurt.co.uk/about"><span class="fa fa-question"></span> About </a></li>
        
      </ul>
    </div>
  </div>
</nav>


    <div class="container">
      <div class="row">
        <div class="col-lg-8">


<h1>Database Configuration</h1>
<hr>

<p>At work, we&rsquo;re building a new website for the organisation based around the <a href="http://www.infoglue.org/">InfoGlue CMS</a>. It&rsquo;s an open source, java based content management system that provides nice separation between content and site structure and is extensible enough for us to tailor the admin side of things to our users needs. All in all, decent stuff.</p>

<p>One thing that has been a source of immense frustration to me has been the way they configure database connections. Like most good Java apps, they make use of abstraction layers such as <a href="http://www.hibernate.org/">Hibernate</a>, <a href="http://commons.apache.org/dbcp/">Apache DBCP</a> and so on. However, no effort has been made to unify the database configuration, so each of these tools and layers has their own configuration file, requiring the same database connection string and credentials to be entered into them.</p>

<p>Now, the reason this caused me problem? I had identified two of the configuration files, but missed the critical third one, so when moving the installation from my local machine to a test server, I ran into endless fatal errors informing me that the Oracle drivers couldn&rsquo;t establish a connection&hellip;</p>

<p>Infoglue has a graphical installer which is great for setting up a test install on your local machine as it handles these configuration files for you, but this is no good when you need to install on a headless server, hence my running into problems when moving the install from one machine to another. And don&rsquo;t get me started on the fact that they obviously haven&rsquo;t tested the release against Oracle as the database scripts it uses to set things up miss out vital config data that is present in the MySQL scripts. That only took me a day to figure out though, luckily ;-)</p>

<p>So, how could this database config problem have been avoided? Well, either by unifying the configuration into one file, or better yet, making use of a JNDI data source, as is standard on JBoss. This way, you define the connection once and then use the JNDI name to get the connection when it&rsquo;s required. It&rsquo;s supported by hibernate et al so why didn&rsquo;t they do this? I guess the main reason is probably because it&rsquo;s trickier to configure this on Tomcat than on JBoss and the default Infoglue setup is Tomcat with MySQL.</p>

<p>If I get time (ha!) I&rsquo;ll take a look and see how much work would be involved to make this change and then see about submitting the patch back to the Infoglue developers. Don&rsquo;t get me wrong, the product is good, I&rsquo;m just irked by having wasted so much time on a problem that could have been avoided if vital configuration wasn&rsquo;t being duplicated like this.</p>

<hr>

</div>
<div class="col-lg-4">
  <div id="toc" class="well">
    <section id="info">
      <p><span class="glyphicon glyphicon-time"></span> Posted on Thu 13 Mar, 2008</p>
    </section>
    <section id="social">
  <h4><span class="fa fa-share-alt"> </span> Share</h4>
  <ul class="social">
    <li> <a href="https://twitter.com/intent/tweet?status=Database%20Configuration-http%3a%2f%2fvurt.co.uk%2farchive%2fdatabase-configuration" target="_blank" title="Tweet this" class="twitter"><span class="fa fa-twitter-square fa-fw"></span>Twitter</a> </li>
    <li> <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fvurt.co.uk%2farchive%2fdatabase-configuration" target="_blank" title="Share this on Facebook" class="facebook"><span class="fa fa-facebook-square fa-fw"></span>Facebook</a> </li>
    <li> <a href="https://plus.google.com/share?url=http%3a%2f%2fvurt.co.uk%2farchive%2fdatabase-configuration" target="_blank" title="Google+" class="googleplus"><span class="fa fa-google-plus-square fa-fw"></span>Google+</a> </li>
    <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fvurt.co.uk%2farchive%2fdatabase-configuration&title=Database%20Configuration&source=vurt.co.uk" target="_blank" title="LinkedIn" class="linkedin"><span class="fa fa-linkedin-square fa-fw"></span>LinkedIn</a> </li>
    <li> <a href="http://www.reddit.com/submit?url=http%3a%2f%2fvurt.co.uk%2farchive%2fdatabase-configuration" target="_blank" title="Reddit" class="reddit"><span class="fa fa-reddit-square fa-fw"></span>Reddit</a> </li>
  </ul>

</section>

        <section id="next">
      <a class="next" href="http://vurt.co.uk/archive/why-the-obsession-with-video"><i class="glyphicon glyphicon-chevron-left"></i> Why the obsession with video?</a>
    </section>
    <section id="prev">
      <a class="previous" href="http://vurt.co.uk/archive/good-service-plume-tyre-service"><i class="glyphicon glyphicon-chevron-right"></i> Good Service - Plume Tyre Service</a><br>
    </section>

    
  </div>

    </div>
  </div>

  <hr>

  <footer>
    <div class="row">
      <div class="col-lg-12">
        <p>Copyright &copy; Giles Paterson</p>
      </div>
    </div>
  </footer>
</div>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52057933-1', 'vurt.co.uk');
  ga('send', 'pageview');

  </script>
  <script src="/js/jquery-2.1.1.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  </body>
</html>

