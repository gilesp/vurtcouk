
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">



<meta name="keywords" content="">




<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@gilesp">
<meta name="twitter:title" content="Porting Django to 1.0 from an earlier version : vurt.co.uk">
<meta name="twitter:creator" content="@gilesp">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="vurt.co.uk">


    <base href="http://vurt.co.uk">

    
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="/css/font-awesome.min.css" rel="stylesheet">

    
    
    

    
    <link href="http://fonts.googleapis.com/css?family=Cabin:400,700" rel="stylesheet" type="text/css">

    
    <link href="css/vurt.css" rel="stylesheet">

    <title>Porting Django to 1.0 from an earlier version : vurt.co.uk</title>
    <link rel="canonical" href="http://vurt.co.uk/archive/porting-django-to-10-from-an-earlier-version">
    

  </head>
  <body>
    
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Vurt.co.uk</a>
    </div>

    
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        
          <li><a href="/ideas"><span class="fa fa-bolt"></span> Ideas </a></li>
        
          <li><a href="/projects"><span class="fa fa-cogs"></span> Projects </a></li>
        
          <li><a href="http://vurt.co.uk/about"><span class="fa fa-question"></span> About </a></li>
        
      </ul>
    </div>
  </div>
</nav>


    <div class="container">
      <div class="row">
        <div class="col-lg-8">


<h1>Porting Django to 1.0 from an earlier version</h1>
<hr>

<p>I use <a href="http://www.djangoproject.com/">django</a> for a <a href="http://www.c4mbodia.com/">personal web development project</a> and whilst it is a lovely framework, it&rsquo;s been undergoing very active development to get it to a 1.0 release. The previous release was 0.96 but that was sometime before I started my project, so I&rsquo;ve been working to a version checked out of subversion around 4 months ago which contained some new features but not everything that eventually made it into 1.0</p>

<p>As part of my recent desire to sort my life out and get more things done, I&rsquo;ve been adding features to my project and have decided to get it running in django 1.0. Now, as I was using a version of django part way between 0.96 and 1.0 I didn&rsquo;t have as much work to do as I anticipated, which was nice. What was even nicer, was this helpful <a href="http://docs.djangoproject.com/en/dev/releases/1.0-porting-guide/">guide to porting</a> on the excellent django documentation site.</p>

<p>As I was already suing the newforms module, a few renames later had me working using the forms name instead. And most of my other changes were fairly minor as well, I&rsquo;m glad I decided to use a post-0.96 version when I started my project otherwise I&rsquo;d have had a fair bit more work to do. The most major changes came with the Admin functionality for my models as this has changed quite significantly. It&rsquo;s all well documented though, so an hour or so later I had some new admin.py files detailing the admin interfaces to my models.</p>

<p>I did run in to two stumbling points though. I use modified pre-order tree traversal for a number of my models and the <a href="http://code.google.com/p/django-mptt/">third-party implementation</a> I was using wasn&rsquo;t playing nice with the new django admin stuff. However, a quick svn checkout of the latest revision got me past that problem. The second stumbling block was with getting my user profile models to be displayed inline with the django authentication User model in the admin interface. The trick is to first unregister the User model from the admin site and then re-register it with my own admin class:</p>

<p>``</p>

<pre><code>from django.contrib import admin
from django.contrib.auth.models import User
from django.contrib.auth.admin import UserAdmin

from users.models import UserProfile

admin.site.unregister(User)

# Set it up so we can edit a user's profile inline in the admin
class UserProfileInline(admin.StackedInline):
    fields = ('donated', 'tagline', 'birthday', 'profile')
    model = UserProfile

class MyUserAdmin(UserAdmin):
    inlines = [UserProfileInline]

# re-register the User with the extended admin options
admin.site.register(User, MyUserAdmin)
</code></pre>

<p>And that was it - I now have a version of my site ready to roll with django 1.0</p>

<hr>

</div>
<div class="col-lg-4">
  <div id="toc" class="well">
    <section id="info">
      <p><span class="glyphicon glyphicon-time"></span> Posted on Fri 31 Oct, 2008</p>
    </section>
    <section id="social">
  <h4><span class="fa fa-share-alt"> </span> Share</h4>
  <ul class="social">
    <li> <a href="https://twitter.com/intent/tweet?status=Porting%20Django%20to%201.0%20from%20an%20earlier%20version-http%3a%2f%2fvurt.co.uk%2farchive%2fporting-django-to-10-from-an-earlier-version" target="_blank" title="Tweet this" class="twitter"><span class="fa fa-twitter-square fa-fw"></span>Twitter</a> </li>
    <li> <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fvurt.co.uk%2farchive%2fporting-django-to-10-from-an-earlier-version" target="_blank" title="Share this on Facebook" class="facebook"><span class="fa fa-facebook-square fa-fw"></span>Facebook</a> </li>
    <li> <a href="https://plus.google.com/share?url=http%3a%2f%2fvurt.co.uk%2farchive%2fporting-django-to-10-from-an-earlier-version" target="_blank" title="Google+" class="googleplus"><span class="fa fa-google-plus-square fa-fw"></span>Google+</a> </li>
    <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fvurt.co.uk%2farchive%2fporting-django-to-10-from-an-earlier-version&title=Porting%20Django%20to%201.0%20from%20an%20earlier%20version&source=vurt.co.uk" target="_blank" title="LinkedIn" class="linkedin"><span class="fa fa-linkedin-square fa-fw"></span>LinkedIn</a> </li>
    <li> <a href="http://www.reddit.com/submit?url=http%3a%2f%2fvurt.co.uk%2farchive%2fporting-django-to-10-from-an-earlier-version" target="_blank" title="Reddit" class="reddit"><span class="fa fa-reddit-square fa-fw"></span>Reddit</a> </li>
  </ul>

</section>

        <section id="next">
      <a class="next" href="http://vurt.co.uk/archive/things-to-do"><i class="glyphicon glyphicon-chevron-left"></i> Things to do</a>
    </section>
    <section id="prev">
      <a class="previous" href="http://vurt.co.uk/archive/technotrend-s-1500-ci-and-mythtv-remote-control"><i class="glyphicon glyphicon-chevron-right"></i> Technotrend S-1500 CI and Mythtv Remote Control</a><br>
    </section>

    
  </div>

    </div>
  </div>

  <hr>

  <footer>
    <div class="row">
      <div class="col-lg-12">
        <p>Copyright &copy; Giles Paterson</p>
      </div>
    </div>
  </footer>
</div>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52057933-1', 'vurt.co.uk');
  ga('send', 'pageview');

  </script>
  <script src="/js/jquery-2.1.1.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  </body>
</html>

