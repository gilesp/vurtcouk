
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">



<meta name="keywords" content="">




<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@gilesp">
<meta name="twitter:title" content="Rewriting history with git : vurt.co.uk">
<meta name="twitter:creator" content="@gilesp">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="vurt.co.uk">


    <base href="http://vurt.co.uk">

    
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="/css/font-awesome.min.css" rel="stylesheet">

    
    
    

    
    <link href="http://fonts.googleapis.com/css?family=Cabin:400,700" rel="stylesheet" type="text/css">

    
    <link href="css/vurt.css" rel="stylesheet">

    <title>Rewriting history with git : vurt.co.uk</title>
    <link rel="canonical" href="http://vurt.co.uk/archive/rewriting-history-with-git">
    

  </head>
  <body>
    
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Vurt.co.uk</a>
    </div>

    
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        
          <li><a href="/ideas"><span class="fa fa-bolt"></span> Ideas </a></li>
        
          <li><a href="/projects"><span class="fa fa-cogs"></span> Projects </a></li>
        
          <li><a href="http://vurt.co.uk/about"><span class="fa fa-question"></span> About </a></li>
        
      </ul>
    </div>
  </div>
</nav>


    <div class="container">
      <div class="row">
        <div class="col-lg-8">


<h1>Rewriting history with git</h1>
<hr>

<p>Sometimes when working with git branches, you&rsquo;ll find you need to rewrite history to correct a mistake. For example you squashed your commits into one and pushed them but then realised you&rsquo;d missed something from the squash and need to do it again. Now, while you can perform the git rebase -i again and make the changes locally, you won&rsquo;t be able to push this back to origin as your branches have diverged.</p>

<p>One way of working around this is to delete the remote branch and then push your branch again, essentially overwriting the remote with your version of history.</p>

<p>This isn&rsquo;t something that should be done without forethought though, as it has implications for anyone else who may be using the branch but if no one else has done any additional work on the branch then this is relatively safe.</p>

<p>The process for deleting the remote branch is:</p>

<p><code>git push origin :branchname</code></p>

<p>This pushes null to the remote branch, effectively deleting it.</p>

<p>Then you want to push your local branch to origin, tracking it in the process:</p>

<p><code>git push -u origin branchname</code></p>

<p>Your branch will now be on origin and your local branch will be tracking it correctly.</p>

<p>Anyone else who has used the branch will want to <code>git reset --hard origin/branchname</code> in order to get your changes.</p>

<p>Of course, I&rsquo;d recommend doing some more reading on this matter before doing it as it&rsquo;s likely that this is all sorts of wrong in the majority of situations.</p>

<hr>

</div>
<div class="col-lg-4">
  <div id="toc" class="well">
    <section id="info">
      <p><span class="glyphicon glyphicon-time"></span> Posted on Fri 31 May, 2013</p>
    </section>
    <section id="social">
  <h4><span class="fa fa-share-alt"> </span> Share</h4>
  <ul class="social">
    <li> <a href="https://twitter.com/intent/tweet?status=Rewriting%20history%20with%20git-http%3a%2f%2fvurt.co.uk%2farchive%2frewriting-history-with-git" target="_blank" title="Tweet this" class="twitter"><span class="fa fa-twitter-square fa-fw"></span>Twitter</a> </li>
    <li> <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fvurt.co.uk%2farchive%2frewriting-history-with-git" target="_blank" title="Share this on Facebook" class="facebook"><span class="fa fa-facebook-square fa-fw"></span>Facebook</a> </li>
    <li> <a href="https://plus.google.com/share?url=http%3a%2f%2fvurt.co.uk%2farchive%2frewriting-history-with-git" target="_blank" title="Google+" class="googleplus"><span class="fa fa-google-plus-square fa-fw"></span>Google+</a> </li>
    <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fvurt.co.uk%2farchive%2frewriting-history-with-git&title=Rewriting%20history%20with%20git&source=vurt.co.uk" target="_blank" title="LinkedIn" class="linkedin"><span class="fa fa-linkedin-square fa-fw"></span>LinkedIn</a> </li>
    <li> <a href="http://www.reddit.com/submit?url=http%3a%2f%2fvurt.co.uk%2farchive%2frewriting-history-with-git" target="_blank" title="Reddit" class="reddit"><span class="fa fa-reddit-square fa-fw"></span>Reddit</a> </li>
  </ul>

</section>

        <section id="next">
      <a class="next" href="http://vurt.co.uk/project/building-a-log-store"><i class="glyphicon glyphicon-chevron-left"></i> Building a log store</a>
    </section>
    <section id="prev">
      <a class="previous" href="http://vurt.co.uk/idea/publishing_tool"><i class="glyphicon glyphicon-chevron-right"></i> Publishing Federation</a><br>
    </section>

    
  </div>

    </div>
  </div>

  <hr>

  <footer>
    <div class="row">
      <div class="col-lg-12">
        <p>Copyright &copy; Giles Paterson</p>
      </div>
    </div>
  </footer>
</div>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52057933-1', 'vurt.co.uk');
  ga('send', 'pageview');

  </script>
  <script src="/js/jquery-2.1.1.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  </body>
</html>

